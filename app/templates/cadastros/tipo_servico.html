{% extends 'base.html' %} {% block content %}
<style>
  .tabela-container {
    max-height: 300px; /* altura ajustável */
    overflow-y: auto;
    border: 1px solid #ddd;
    border-radius: 4px;
  }
  .tabela-container table thead th {
    position: sticky;
    top: 0;
    z-index: 2;
    background: #002b55; /* cor personalizada do cabeçalho */
    color: #fff;
  }
  .header-fixo {
    position: sticky;
    top: 0;
    z-index: 3;
    background: #fff;
    padding: 10px 0;
  }
</style>

<div class="container mt-4">
  <!-- Cabeçalho fixo -->
  <div class="header-fixo border-bottom mb-3">
    <h2 class="mb-3 text-primary">
      <i class="bi bi-tools me-2"></i> Cadastrar Tipos de Serviço
    </h2>
    <form
      method="POST"
      action="{{ url_for('tipo_servico.cadastrar_tipo_servico') }}"
      class="row g-2"
    >
      <div class="col-md-5">
        <input
          type="text"
          name="nome"
          class="form-control"
          placeholder="Nome do Tipo de Serviço"
          required
        />
      </div>
      <div class="col-md-5">
        <input
          type="text"
          name="empresa"
          class="form-control"
          placeholder="Empresa"
        />
      </div>
      <div class="col-md-2 d-grid">
        <button class="btn btn-primary">Cadastrar</button>
      </div>
    </form>
  </div>

  <h5 class="fw-semibold mt-4 mb-2">
    <i class="bi bi-card-list me-2"></i> Tipos de Serviço Cadastrados
  </h5>

  <div class="tabela-container shadow-sm">
    <table class="table table-striped table-hover align-middle mb-0">
      <thead>
        <tr>
          <th>Nome</th>
          <th>Empresa</th>
          <th style="width: 20%">Ações</th>
        </tr>
      </thead>
      <tbody>
        {% for tipo in tipos %}
        <tr>
          <td>{{ tipo.nome }}</td>
          <td>{{ tipo.empresa or '---' }}</td>
          <td>
            <a
              href="{{ url_for('tipo_servico.editar_tipo_servico', id=tipo.id) }}"
              class="btn btn-warning btn-sm"
              >Editar</a
            >
            <form
              action="{{ url_for('tipo_servico.excluir_tipo_servico', id=tipo.id) }}"
              method="POST"
              style="display: inline-block"
            >
              <button
                class="btn btn-danger btn-sm"
                onclick="return confirm('Excluir este tipo de serviço?')"
              >
                Excluir
              </button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
