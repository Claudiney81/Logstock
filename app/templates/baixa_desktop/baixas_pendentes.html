{% extends 'base.html' %} {% block content %}
<div class="container mt-4">
  <h4 class="text-primary">
    <i class="bi bi-hourglass-split"></i> Baixas Pendentes
  </h4>

  <style>
    .tabela-container {
      max-height: 65vh;
      overflow-y: auto;
    }
    .tabela-container table thead th {
      position: sticky;
      top: 0;
      z-index: 1000;
      background: #002b55; /* cor azul padrão */
      color: white;
    }
  </style>

  <div class="tabela-container shadow-sm rounded">
    <table class="table table-hover align-middle mb-0">
      <thead>
        <tr>
          <th>Data</th>
          <th>Técnico</th>
          <th>Responsável</th>
          <th>Observação</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        {% for baixa in baixas %}
        <tr>
          <td>
            {{ baixa.data_hora.strftime('%d/%m/%Y %H:%M') if baixa.data_hora
            else '' }}
          </td>
          <td>{{ baixa.tecnico.nome }}</td>
          <td>{{ baixa.responsavel }}</td>
          <td>{{ baixa.observacao or '' }}</td>
          <td>
            <a
              href="{{ url_for('baixa_desktop.detalhe_baixa', baixa_id=baixa.id) }}"
              class="btn btn-sm btn-primary"
            >
              <i class="bi bi-eye"></i> Detalhes
            </a>
          </td>
        </tr>
        {% else %}
        <tr>
          <td colspan="5" class="text-center">Nenhuma baixa pendente.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
